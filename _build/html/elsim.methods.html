
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>elsim.methods package &#8212; elsim 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="elsim-methods-package">
<h1>elsim.methods package<a class="headerlink" href="#elsim-methods-package" title="Permalink to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-elsim.methods.approval">
<span id="elsim-methods-approval-module"></span><h2>elsim.methods.approval module<a class="headerlink" href="#module-elsim.methods.approval" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.approval.approval">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.approval.</span></span><span class="sig-name descname"><span class="pre">approval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.approval.approval" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of an election using approval voting.</p>
<p>The candidate with the largest number of approvals wins.[Rb3d7b4cc0631-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A 2D collection of approval ballots.</p>
<p>Rows represent voters, and columns represent candidate IDs.
A cell contains 1 if that voter approves of that candidate,
otherwise 0.</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, ‘order’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, a random finalist
is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rb3d7b4cc0631-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Approval_voting">https://en.wikipedia.org/wiki/Approval_voting</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Voter 0 approves Candidate A (index 0) and B (index 1).
Voter 1 approves B and C.
Voter 2 approves B and C.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="go">                [0, 1, 1],</span>
<span class="go">                [0, 1, 1],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>Candidate B (1) gets the most approvals and wins the election:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">approval</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.approval.combined_approval">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.approval.</span></span><span class="sig-name descname"><span class="pre">combined_approval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.approval.combined_approval" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of an election using combined approval voting.</p>
<p>Also known as balanced approval or dis&amp;approval voting, the candidate with
the largest number of approvals minus disapprovals wins.[Rad1a669135cd-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A 2D collection of combined approval ballots.</p>
<p>Rows represent voters, and columns represent candidate IDs.
A cell contains a +1 if that voter approves of that candidate, a -1 if
the voter disapproves of that candidate, or a 0 if they are neutral.</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, ‘order’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, a random finalist
is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rad1a669135cd-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Combined_approval_voting">https://en.wikipedia.org/wiki/Combined_approval_voting</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Voter 0 approves Candidate A (index 0) and B (index 1).
Voter 1 approves of B and disapproves of C.
Voter 2 approves of A and disapproves of B and C.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span>  <span class="mi">0</span><span class="p">],</span>
<span class="go">                [ 0, +1, -1],</span>
<span class="go">                [+1, -1, -1],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>Candidate A (0) has the highest net approval and wins the election:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">combined_approval</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.black">
<span id="elsim-methods-black-module"></span><h2>elsim.methods.black module<a class="headerlink" href="#module-elsim.methods.black" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.black.black">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.black.</span></span><span class="sig-name descname"><span class="pre">black</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.black.black" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of a ranked ballot election using Black’s method.</p>
<p>If a Condorcet winner exists, it is returned, otherwise, the Borda winner
is returned.[R9bfae4535aef-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A collection of ranked ballots.
Rows represent voters and columns represent rankings, from best to
worst, with no tied rankings.
Each cell contains the ID number of a candidate, starting at 0.</p>
<p>For example, if a voter ranks Curie &gt; Avogadro &gt; Bohr, the ballot line
would read <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">0,</span> <span class="pre">1]</span></code> (with IDs in alphabetical order).</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, ‘order’, None}, optional</span></dt><dd><p>If there is a tie in the Borda tally, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>,
a random finalist is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for a Borda count tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r9bfae4535aef-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Condorcet_method#Two-method_systems">https://en.wikipedia.org/wiki/Condorcet_method#Two-method_systems</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the ballots for the 5 voters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span>
<span class="go">                [A, C, B],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [C, A, B],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>A is preferred over B by 3 voters.
C is preferred over A by 3 voters.
C is preferred over B by 3 voters.
C is thus the Condorcet winner and wins under Black’s method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">black</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.borda">
<span id="elsim-methods-borda-module"></span><h2>elsim.methods.borda module<a class="headerlink" href="#module-elsim.methods.borda" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.borda.borda">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.borda.</span></span><span class="sig-name descname"><span class="pre">borda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.borda.borda" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of a ranked ballot election using the Borda count method.</p>
<p>A voter’s lowest-ranked candidate receives 1 point, second-lowest receives
2 points, and so on.  All points are summed, and the highest-scoring
candidate wins.[Rdecfbba01b46-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A collection of ranked ballots.
Rows represent voters and columns represent rankings, from best to
worst, with no tied rankings.
Each cell contains the ID number of a candidate, starting at 0.</p>
<p>For example, if a voter ranks Curie &gt; Avogadro &gt; Bohr, the ballot line
would read <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">0,</span> <span class="pre">1]</span></code> (with IDs in alphabetical order).</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, ‘order’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, a random finalist
is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rdecfbba01b46-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Borda_count">https://en.wikipedia.org/wiki/Borda_count</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the ballots for the 5 voters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span>
<span class="go">                [A, C, B],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [C, A, B],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>Candidate A gets a total of 3+3+1+1+2 = 10 points.
Candidate B gets a total of 1+1+3+3+1 =  9 points.
Candidate C gets a total of 2+2+2+2+3 = 11 points.
Candidate C is the winner:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">borda</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.condorcet">
<span id="elsim-methods-condorcet-module"></span><h2>elsim.methods.condorcet module<a class="headerlink" href="#module-elsim.methods.condorcet" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.condorcet.condorcet">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.condorcet.</span></span><span class="sig-name descname"><span class="pre">condorcet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.condorcet.condorcet" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of a ranked ballot election using a Condorcet method.</p>
<p>This does not contain any “tiebreakers”; those will be implemented by
other methods’ functions.  It is not a Condorcet completion method.[Rf2895d1269e4-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A collection of ranked ballots.
Rows represent voters and columns represent rankings, from best to
worst, with no tied rankings.
Each cell contains the ID number of a candidate, starting at 0.</p>
<p>For example, if a voter ranks Curie &gt; Avogadro &gt; Bohr, the ballot line
would read <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">0,</span> <span class="pre">1]</span></code> (with IDs in alphabetical order).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for a Condorcet cycle / tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rf2895d1269e4-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Condorcet_method">https://en.wikipedia.org/wiki/Condorcet_method</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the ballots for the 5 voters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span>
<span class="go">                [A, C, B],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [C, A, B],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>Candidate
A is preferred over B by 3 voters.
C is preferred over A by 3 voters.
C is preferred over B by 3 voters.
C is thus the Condorcet winner:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">condorcet</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.condorcet.condorcet_from_matrix">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.condorcet.</span></span><span class="sig-name descname"><span class="pre">condorcet_from_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.condorcet.condorcet_from_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of a ranked ballot election using a Condorcet method.</p>
<p>This does not contain any “tiebreakers”; those will be implemented by
other methods’ functions.  It is not a Condorcet completion method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>matrix</strong><span class="classifier">array_like</span></dt><dd><p>A pairwise comparison matrix of candidate vs candidate defeats.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for a Condorcet cycle / tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the pairwise comparison matrix for the election:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="go">                       [2, 0, 2],</span>
<span class="go">                       [3, 3, 0]])</span>
</pre></div>
</div>
<p>Candidate
A (row 0) is preferred over B (column 1) by 3 voters.
C (row 2) is preferred over A (column 0) by 3 voters.
C (row 2) is preferred over B (column 1) by 3 voters.
C is thus the Condorcet winner:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">condorcet_from_matrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.condorcet.ranked_election_to_matrix">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.condorcet.</span></span><span class="sig-name descname"><span class="pre">ranked_election_to_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.condorcet.ranked_election_to_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a ranked election to a pairwise comparison matrix.</p>
<p>Each entry in the matrix gives the total number of votes obtained by the
row candidate over the column candidate.[Re46764344de0-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A collection of ranked ballots.
Rows represent voters and columns represent rankings, from best to
worst, with no tied rankings.
Each cell contains the ID number of a candidate, starting at 0.</p>
<p>For example, if a voter ranks Curie &gt; Avogadro &gt; Bohr, the ballot line
would read <code class="docutils literal notranslate"><span class="pre">[2,</span> <span class="pre">0,</span> <span class="pre">1]</span></code> (with IDs in alphabetical order).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>matrix</strong><span class="classifier">ndarray</span></dt><dd><p>A pairwise comparison matrix of candidate vs candidate defeats.</p>
<p>For example, a <code class="docutils literal notranslate"><span class="pre">3</span></code> in row 2, column 5, means that 3 voters preferred
Candidate 2 over Candidate 5.  Candidates are not preferred over
themselves, so the diagonal is all zeros.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="re46764344de0-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>Wikipedia, “Condorcet method: Pairwise counting and matrices”,
<a class="reference external" href="https://en.wikipedia.org/wiki/Condorcet_method#Pairwise_counting_and_matrices">https://en.wikipedia.org/wiki/Condorcet_method#Pairwise_counting_and_matrices</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the ballots for the 5 voters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span>
<span class="go">                [A, C, B],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [C, A, B],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>Convert to a matrix:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ranked_election_to_matrix</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">array([[0, 3, 2],</span>
<span class="go">       [2, 0, 2],</span>
<span class="go">       [3, 3, 0]], dtype=uint32)</span>
</pre></div>
</div>
<p>This shows that Candidate
A (row 0) is preferred over B (column 1) by 3 voters.
C (row 2) is preferred over A (column 0) by 3 voters.
C (row 2) is preferred over B (column 1) by 3 voters.</p>
</dd></dl>

</section>
<section id="module-elsim.methods.coombs">
<span id="elsim-methods-coombs-module"></span><h2>elsim.methods.coombs module<a class="headerlink" href="#module-elsim.methods.coombs" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.coombs.coombs">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.coombs.</span></span><span class="sig-name descname"><span class="pre">coombs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.coombs.coombs" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of an election using Coomb’s method.</p>
<p>If any candidate gets a majority of first-preference votes, they win.
Otherwise, the candidate(s) with the most number of last-preference votes
is eliminated, votes for eliminated candidates are transferred according
to the voters’ preference rankings, and a series of runoff elections are
held between the remainders until a candidate gets a majority.[R6a6ba168a191-1]_</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A collection of ranked ballots.  See <cite>borda</cite> for election format.
Currently, this must include full rankings for each voter.</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, tied candidates
are eliminated or selected at random
is returned.
If ‘order’, the lowest-ID tied candidate is preferred in each tie.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned if there are any ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r6a6ba168a191-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Coombs%27_method">https://en.wikipedia.org/wiki/Coombs%27_method</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the ballots for the 5 voters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span>
<span class="go">                [A, C, B],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [C, A, B],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>In the first round, no candidate gets a majority, so Candidate B (1) is
eliminated, for receiving 3 out of 5 last-place votes.  Voter 2 and 3’s
support of B is transferred to Candidate C (2), causing Candidate C to win,
with 3 out of 5 votes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coombs</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.fptp">
<span id="elsim-methods-fptp-module"></span><h2>elsim.methods.fptp module<a class="headerlink" href="#module-elsim.methods.fptp" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.fptp.fptp">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.fptp.</span></span><span class="sig-name descname"><span class="pre">fptp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.fptp.fptp" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of an election using first-past-the-post / plurality rule.</p>
<p>The candidate with the largest number of first preferences wins.[R41f12afad422-1]_</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A 2D collection of ranked ballots.  (See <cite>borda</cite> for election format.)
Or a 1D array of first preferences only.</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, ‘order’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, a random finalist
is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="r41f12afad422-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Plurality_voting">https://en.wikipedia.org/wiki/Plurality_voting</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the ballots for the 5 voters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span>
<span class="go">                [A, C, B],</span>
<span class="go">                [B, A, C],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [C, A, B],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>Candidate B (1) gets the most first-preference votes, and is the winner:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fptp</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Single-mark ballots can also be tallied (with ties broken as specified):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">C</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fptp</span><span class="p">(</span><span class="n">election</span><span class="p">))</span>
<span class="go">None</span>
</pre></div>
</div>
<p>There is a tie between B (1) and C (2).  <code class="docutils literal notranslate"><span class="pre">tiebreaker=order</span></code> always
prefers the lower-numbered candidate in a tie:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fptp</span><span class="p">(</span><span class="n">election</span><span class="p">,</span> <span class="s1">&#39;order&#39;</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.irv">
<span id="elsim-methods-irv-module"></span><h2>elsim.methods.irv module<a class="headerlink" href="#module-elsim.methods.irv" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.irv.irv">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.irv.</span></span><span class="sig-name descname"><span class="pre">irv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.irv.irv" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of an election using instant-runoff voting.</p>
<p>If any candidate gets a majority of first-preference votes, they win.
Otherwise, the candidate(s) with the least number of votes is eliminated,
votes for eliminated candidates are transferred according to the voters’
preference rankings, and a series of runoff elections are held between the
remainders until a candidate gets a majority.[Rfe9f78171345-1]_</p>
<p>Also known as “the alternative vote”, “ranked-choice voting”, Hare’s
method, or Ware’s method.</p>
<p>The votes in each instant-runoff round are calculated from the same set of
ranked ballots.  If voters are honest and consistent between rounds, then
this is also equivalent to the exhaustive ballot method, which uses actual
separate runoff elections.[Rfe9f78171345-2]_</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A collection of ranked ballots.  See <cite>borda</cite> for election format.
Currently, this must include full rankings for each voter.</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, tied candidates
are eliminated or selected at random
is returned.
If ‘order’, the lowest-ID tied candidate is preferred in each tie.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned if there are any ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rfe9f78171345-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Instant-runoff_voting">https://en.wikipedia.org/wiki/Instant-runoff_voting</a></p>
</div>
<div class="citation" id="rfe9f78171345-2" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Exhaustive_ballot">https://en.wikipedia.org/wiki/Exhaustive_ballot</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the ballots for the 5 voters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span>
<span class="go">                [A, C, B],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [C, A, B],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>In the first round, no candidate gets a majority, so Candidate C (2) is
eliminated.  Voter 4’s support is transferred to Candidate A (0), causing
Candidate A to win, with 3 out of 5 votes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">irv</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.runoff">
<span id="elsim-methods-runoff-module"></span><h2>elsim.methods.runoff module<a class="headerlink" href="#module-elsim.methods.runoff" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.runoff.runoff">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.runoff.</span></span><span class="sig-name descname"><span class="pre">runoff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.runoff.runoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of an election using top-two runoff / two-round system.</p>
<p>If any candidate gets a majority of first-preference votes, they win.
Otherwise, a runoff election is held between the two highest-voted
candidates.[Rece24b189ff2-1]_</p>
<p>The votes in the first and second rounds are calculated from the same set
of ranked ballots, so this is actually the contingent vote method.[Rece24b189ff2-2]_  If
voters are honest and consistent between rounds, then the two methods are
equivalent.  It can also be considered “top-two IRV”, and is closely
related to the supplementary vote (which restricts rankings to two).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A collection of ranked ballots.  See <cite>borda</cite> for election format.
Currently, this must include full rankings for each voter.</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, a random finalist
is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rece24b189ff2-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Two-round_system">https://en.wikipedia.org/wiki/Two-round_system</a></p>
</div>
<div class="citation" id="rece24b189ff2-2" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Contingent_vote">https://en.wikipedia.org/wiki/Contingent_vote</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Label some candidates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span>
</pre></div>
</div>
<p>Specify the ballots for the 5 voters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">],</span>
<span class="go">                [A, C, B],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [B, C, A],</span>
<span class="go">                [C, A, B],</span>
<span class="go">                ]</span>
</pre></div>
</div>
<p>In the first round, no candidate gets a majority, so Candidate C (2) is
eliminated.  A runoff is held between the top two: Candidates A (0) and
B (1).   Voter 4’s support is transferred to Candidate A, causing
Candidate A to win, with 3 out of 5 votes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">runoff</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.score">
<span id="elsim-methods-score-module"></span><h2>elsim.methods.score module<a class="headerlink" href="#module-elsim.methods.score" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.score.score">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.score.</span></span><span class="sig-name descname"><span class="pre">score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.score.score" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of an election using score (or range) voting.</p>
<p>The candidate with the highest score wins.[Raffd050aa9cd-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A 2D collection of score ballots.</p>
<p>Rows represent voters, and columns represent candidate IDs.
A cell contains a high score if that voter approves of that candidate,
or low score if they disapprove</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, ‘order’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, a random finalist
is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="raffd050aa9cd-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Score_voting">https://en.wikipedia.org/wiki/Score_voting</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Voter 0 loves Candidates A (index 0) and B (index 1), but hates C (2).
Voter 1 dislikes A, likes B, and loves C.
Voter 2 hates A, and is lukewarm about B and C.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="go">                [0, 4, 5],</span>
<span class="go">                [0, 3, 3]]</span>
</pre></div>
</div>
<p>Candidate B (1) gets the highest score and wins the election:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">score</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.star">
<span id="elsim-methods-star-module"></span><h2>elsim.methods.star module<a class="headerlink" href="#module-elsim.methods.star" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.star.matrix_from_scores">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.star.</span></span><span class="sig-name descname"><span class="pre">matrix_from_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.star.matrix_from_scores" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a scored ballot election to a pairwise comparison matrix.</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A 2D collection of score ballots.</p>
<p>Rows represent voters, and columns represent candidate IDs.
A cell contains a high score if that voter approves of that candidate,
or low score if they disapprove.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl>
<dt><strong>matrix</strong><span class="classifier">ndarray</span></dt><dd><p>A pairwise comparison matrix of candidate vs candidate defeats.</p>
<p>For example, a <code class="docutils literal notranslate"><span class="pre">3</span></code> in row 2, column 5, means that 3 voters preferred
Candidate 2 over Candidate 5.  Candidates are not preferred over
themselves, so the diagonal is all zeros.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Voter 0 loves Candidates A (index 0) and B (index 1), but hates C (2).
Voter 1 dislikes A, likes B, and loves C.
Voter 2 hates A, is lukewarm about B and likes C.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="go">                [0, 4, 5],</span>
<span class="go">                [0, 3, 4]]</span>
</pre></div>
</div>
<p>So, candidate B is preferred over A by 2 voters, while one is indifferent
between them.  C is preferred over A by 2 voters, while A is preferred
over C by 1 voter.  C is preferred over B by 2 voters, while B is preferred
over C by 1 voter.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix_from_scores</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">array([[0, 0, 1],</span>
<span class="go">       [2, 0, 1],</span>
<span class="go">       [2, 2, 0]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.star.star">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.star.</span></span><span class="sig-name descname"><span class="pre">star</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">election</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.star.star" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the winner of an election using STAR voting.</p>
<p>The more-preferred of the two highest-scoring candidates wins.[Rfd8f98f0f0c2-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>election</strong><span class="classifier">array_like</span></dt><dd><p>A 2D collection of score ballots.</p>
<p>Rows represent voters, and columns represent candidate IDs.
A cell contains a high score if that voter approves of that candidate,
or low score if they disapprove.</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, ‘order’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, a random finalist
is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If there is a tie during the scoring round (three or more candidates tied
for highest score, or two or more tied for second highest), it is broken
using a Condorcet method between the tied candidates.[Rfd8f98f0f0c2-2]_</p>
<p>If there is a tie during the automatic runoff (neither candidate is
preferred more than the other) then it is broken in favor of the
higher-scoring candidate.[Rfd8f98f0f0c2-2]_</p>
<p>If there is still a tie in either round, it is broken according to the
<cite>tiebreaker</cite> parameter.</p>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rfd8f98f0f0c2-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/STAR_voting">https://en.wikipedia.org/wiki/STAR_voting</a></p>
</div>
<div class="citation" id="rfd8f98f0f0c2-2" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.starvoting.us/ties">https://www.starvoting.us/ties</a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Voter 0 loves Candidates A (index 0) and B (index 1), but hates C (2).
Voter 1 dislikes A, likes B, and loves C.
Voter 2 hates A, is lukewarm about B and likes C.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">election</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span>
<span class="go">                [0, 4, 5],</span>
<span class="go">                [0, 3, 4]]</span>
</pre></div>
</div>
<p>Candidates B and C (1 and 2) get the highest scores (12 and 9).  Of these,
C is preferred on more ballots, and wins the election:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">star</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods.utility_winner">
<span id="elsim-methods-utility-winner-module"></span><h2>elsim.methods.utility_winner module<a class="headerlink" href="#module-elsim.methods.utility_winner" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="elsim.methods.utility_winner.utility_winner">
<span class="sig-prename descclassname"><span class="pre">elsim.methods.utility_winner.</span></span><span class="sig-name descname"><span class="pre">utility_winner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">utilities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiebreaker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elsim.methods.utility_winner.utility_winner" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the utilitarian winner of an election. (Dummy “election method”).</p>
<p>Given a set of utilities for each voter-candidate pair, find the candidate
who maximizes summed utility across all voters.[Rd25faf1f9618-1]_</p>
<dl class="field-list">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><dl>
<dt><strong>utilities</strong><span class="classifier">array_like</span></dt><dd><p>A 2D collection of utilities.</p>
<p>Rows represent voters, and columns represent candidate IDs.
Higher utility numbers mean greater approval of that candidate by that
voter.</p>
</dd>
<dt><strong>tiebreaker</strong><span class="classifier">{‘random’, ‘order’, None}, optional</span></dt><dd><p>If there is a tie, and <cite>tiebreaker</cite> is <code class="docutils literal notranslate"><span class="pre">'random'</span></code>, a random finalist
is returned.
If ‘order’, the lowest-ID tied candidate is returned.
By default, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned for ties.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><dl class="simple">
<dt><strong>winner</strong><span class="classifier">int</span></dt><dd><p>The ID number of the winner, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for an unbroken tie.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">References</p>
<div role="list" class="citation-list">
<div class="citation" id="rd25faf1f9618-1" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></span>
<p>S. Merrill III, “A Comparison of Efficiency of Multicandidate
Electoral Systems”, American Journal of Political Science, vol. 28,
no. 1, p. 41, 1984.  <a href="#id16"><span class="problematic" id="id17">:doi:`10.2307/2110786`</span></a></p>
</div>
</div>
<p class="rubric">Examples</p>
<p>Voter 0 loves Candidates A (index 0) and B (index 1), but hates C (2).
Voter 1 dislikes A, likes B, and loves C.
Voter 2 hates A, and is lukewarm about B and C.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">utilities</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
<span class="go">                 [0.1, 0.8, 1.0],</span>
<span class="go">                 [0.0, 0.5, 0.5],</span>
<span class="go">                 ]</span>
</pre></div>
</div>
<p>Candidate B (1) has the highest overall support and is the utility winner:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">utility_winner</span><span class="p">(</span><span class="n">election</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-elsim.methods">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-elsim.methods" title="Permalink to this heading">¶</a></h2>
<p>Implements various election methods.</p>
<p>These take collections of ballots (elections) as inputs and return the winner
according to the rules of that method.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">elsim</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, endolith.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/elsim.methods.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>